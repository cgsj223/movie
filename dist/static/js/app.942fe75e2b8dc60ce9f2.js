webpackJsonp([0],[,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;this.$http.get("/get_login_state").then(function(e){e.body.user&&(t.user=e.body.user,t.$emit("isLogin",t.user))}).catch(function(t){console.log("failed to connect")})},data:function(){return{msg:"",login:!1,user:0}},methods:{action_data:function(){this.msg&&alert(this.msg)},submitLogin:function(t){t.preventDefault(),this.$http.post(t.target.action,{username:this.$refs.username.value,password:this.$refs.password.value}).then(function(t){switch(t.body.code){case 3e3:window.location.reload();break;case 3001:alert("用户名或密码错误，请重试");break;case 3002:alert("用户名或密码格式不正确，请重试");break;case 3003:alert("服务忙，请重试")}})}}}},function(t,e){},function(t,e){},function(t,e,s){t.exports=s.p+"static/img/logo.2965242.png"},function(t,e,s){function a(t){s(5)}var i=s(0)(s(3),s(10),a,null,null);t.exports=i.exports},function(t,e,s){function a(t){s(6)}var i=s(0)(s(4),s(11),a,null,null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer_inner"},[s("table",{staticClass:"footer_tb"},[s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("中国互联网举报中心")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xICP备xxxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("节目制作经营许可证x字第xxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xICP证xxxxx号")])])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("网络文化经营单位")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xx互联网举报中心")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("网络110报警服务")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("x网文xxxxxxx号")])])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("x公安备xxxxxxxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("12318文化市场举报热线")])])])]),t._v(" "),s("div",{staticClass:"footer_bottom"},[s("h1",[t._v("xx电影网")]),t._v(" "),s("p",[t._v("本站不提供任何视听上传服务，所有内容均来自视频分享站点所提供的公开引用资源。Copyright © 200x-2017 保留所有权利")])])])])}]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-wrapper"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.user,expression:"user==0"}],staticClass:"login_reg"},[s("span",{on:{mouseover:function(e){t.login=!0},mouseout:function(e){t.login=!1}}},[s("a",[t._v("登录")]),t._v(" "),s("transition",{attrs:{name:"login_fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.login,expression:"login"}],staticClass:"login_wrapper"},[s("form",{staticClass:"login",attrs:{method:"post",action:"/login"},on:{submit:t.submitLogin}},[s("input",{ref:"username",attrs:{type:"text",name:"username",placeholder:"请输入用户名"}}),s("br"),t._v(" "),s("input",{ref:"password",attrs:{type:"password",name:"password",placeholder:"请输入密码"}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("登录")])])])])],1),t._v("|\n    "),s("a",{attrs:{href:"./register"}},[t._v("注册")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.user,expression:"user!=0"}],staticClass:"userLogin"},[s("span",[t._v("欢迎您！用户："+t._s(t.user.username))]),t._v(" "),s("span",[s("a",{attrs:{href:"/logout"},on:{click:function(e){t.user=0}}},[t._v(" 退出")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-wrapper"},[a("img",{attrs:{src:s(7),alt:"",width:"50px",height:"50px"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("a",{attrs:{href:"/"}},[t._v("xx电影网")])])}]}},function(t,e){},function(t,e,s){function a(t){s(28)}var i=s(0)(s(17),s(35),a,null,null);t.exports=i.exports},,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(9),i=s.n(a),r=s(30),n=s.n(r),o=s(8),l=s.n(o);e.default={name:"app",data:function(){return{movie_data:[]}},beforeCreate:function(){var t=this;this.$http.get("/index_data",{params:{count:20}}).then(function(e){t.$data.movie_data=e.body}).catch(function(t){console.log(t.body)})},components:{mvHeader:i.a,mvContent:n.a,mvFooter:l.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{movie_data:""},data:function(){return{update_flag:0,my_img_arr:this.movie_data,img_index:0,scroll_timer:""}},updated:function(){1!=this.$data.update_flag&&(this.$data.update_flag=1,this.scrollInit(),this.bannerScroll())},methods:{scrollInit:function(){for(var t=this.$refs.img_ul,e=t.getElementsByTagName("li"),s=[],a=0;a<e.length;a++)s.push(e[a]);var i=e.length%4;if(0!=i)for(var r=0;r<4-i;r++){var n=document.createElement("li");n.setAttribute("class","imgs"),t.insertBefore(n,t.childNodes[0])}for(var o=0;o<i;o++){var l=s[s.length-1-o].cloneNode(!0);t.insertBefore(l,t.childNodes[0])}if(0===i)for(var c=0;c<4;c++){var u=s[s.length-1-c].cloneNode(!0);t.insertBefore(u,t.childNodes[0])}t.style.left="-728px"},bannerScroll:function(){var t=this,e=this.$refs.img_ul,s=e.getElementsByTagName("li"),a=Math.ceil((s.length-4)/4),i=window.setInterval(function(){for(var s=0;s<80;s++)!function(t){var s=setTimeout(function(){e.style.left=parseFloat((parseFloat(e.style.left.slice(0,-2))-9.1).toFixed(2))+"px",window.clearTimeout(s)},20*t)}(s);++t.$data.img_index>a-1&&(t.$data.img_index=0,e.style.left="0px")},5e3);this.scroll_timer=i},select_img:function(t){var e=this.$refs.img_ul;clearInterval(this.scroll_timer),this.scroll_timer=void 0;for(var s=728*(t-this.img_index),a=s>0?9.1:-9.1,i=0;i<Math.abs(s/9.1);i++)!function(t){var s=window.setTimeout(function(){e.style.left=parseFloat((parseFloat(e.style.left.slice(0,-2))-a).toFixed(2))+"px",window.clearTimeout(s)},8*t)}(i);this.img_index=t},startScroll:function(){this.scroll_timer||this.bannerScroll()}},components:{}}},,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),i=s(13),r=s.n(i),n=s(1);a.a.config.productionTip=!1,a.a.use(n.a);new a.a({render:function(t){return t(r.a)}}).$mount("#app")},,,,,,function(t,e){},function(t,e){},,function(t,e,s){function a(t){s(27)}var i=s(0)(s(18),s(34),a,null,null);t.exports=i.exports},,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"left"},[s("h3",{staticClass:"top_title"},[t._v("评分最高")]),t._v(" "),s("div",{staticClass:"img-wrapper"},[s("ul",{ref:"img_ul",staticClass:"img-scroll"},t._l(t.movie_data,function(e,a){return s("li",{key:"index",staticClass:"imgs"},[s("a",{attrs:{href:"/movie?id="+e.id}},[s("img",{attrs:{src:e.img,width:"170px",height:"240px"}}),t._v(" "),s("h4",{staticClass:"mv-title"},[t._v(t._s(e.title))])])])})),t._v(" "),s("ul",{staticClass:"scroll_bar"},t._l(Math.ceil(t.movie_data.length/4),function(e,a){return s("li",{staticClass:"item",class:{on:t.img_index+1==e},on:{click:function(e){t.select_img(a)},mouseout:t.startScroll}})}))]),t._v(" "),s("h3",[t._v("正在热映")]),t._v(" "),s("div",{staticClass:"movie_wrapper"},[s("ul",{staticClass:"movie_list"},t._l(t.movie_data,function(e){return s("li",{staticClass:"movie_item"},[s("a",{attrs:{href:"/movie?id="+e.id}},[s("img",{attrs:{src:e.img,alt:"",width:"130px",height:"170px"}}),t._v(" "),s("h4",[t._v(t._s(e.title))])])])}))])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"rank_wrapper"},[s("h2",[t._v("排行榜")]),t._v(" "),s("ul",t._l(t.movie_data,function(e,a){return a<10?s("li",{key:a,staticClass:"rank_item"},[s("a",{attrs:{href:"/movie?id="+e.id}},[s("span",{staticClass:"rank_num"},[t._v(t._s(a+1))]),s("span",{staticClass:"movie_title"},[t._v(t._s(e.title))])])]):t._e()}))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("mvHeader"),t._v(" "),s("div",{staticClass:"content-wrapper"},[s("mvContent",{attrs:{movie_data:t.movie_data}})],1),t._v(" "),s("mvFooter")],1)},staticRenderFns:[]}}],[21]);