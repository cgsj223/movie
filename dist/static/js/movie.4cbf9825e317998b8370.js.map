{"version":3,"sources":["webpack:///static/js/movie.4cbf9825e317998b8370.js","webpack:///footer.vue?7a89","webpack:///header.vue?bdeb","webpack:///./src/common/header/logo.png?f832","webpack:///./src/common/footer/footer.vue?2133*","webpack:///./src/common/header/header.vue?632e*","webpack:///./src/common/footer/footer.vue?85aa*","webpack:///./src/common/header/header.vue?1d16*","webpack:///./src/movie/movie.vue?3cf1","webpack:///page_bar.vue","webpack:///movie.vue","webpack:///./src/movie/movie.js","webpack:///./src/common/page_bar/page_bar.vue?752a","webpack:///./src/movie/movie.vue?2940","webpack:///./src/common/page_bar/page_bar.vue?6bd6"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","mounted","_this","this","$http","get","then","response","body","user","$emit","catch","err","console","log","data","msg","login","methods","action_data","alert","submitLogin","e","preventDefault","post","target","action","username","$refs","password","code","window","location","reload","exports","p","injectStyle","ssrContext","Component","render","_vm","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","href","_v","directives","name","rawName","expression","on","mouseover","$event","mouseout","method","submit","ref","type","placeholder","_s","click","src","alt","width","height","props","count","Number","pageSize","bar_number","pages","btnFlag","btn_on","initFlag","num","Math","ceil","i","push","j","handlePage","tagName","attr","getAttribute","handleBtnFlag","parseInt","info","total","num1","_i","pageNum","_i2","_i3","__WEBPACK_IMPORTED_MODULE_0__common_header_header_vue__","__WEBPACK_IMPORTED_MODULE_0__common_header_header_vue___default","n","__WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue__","__WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue___default","__WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue__","__WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue___default","movieData","comments","inputComment","locked","mid","exec","params","document","title","page","sendData","_this2","content","trim","time","Date","uid","id","length","toLocaleString","pop","unshift","loginState","getComments","_this3","Error","components","myHeader","a","myFooter","pagesBar","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__movie_vue__","__WEBPACK_IMPORTED_MODULE_1__movie_vue___default","__WEBPACK_IMPORTED_MODULE_2_vue_resource__","use","h","$mount","isLogin","img","director","actors","year","rating","_l","item","pageChange","_e","disabled","domProps","input","composing","pageData","index","class"],"mappings":"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","file":"static/js/movie.4cbf9825e317998b8370.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$http.get('/get_login_state').then(function (response) {\n      if (response.body.user) {\n        _this.user = response.body.user;\n        _this.$emit('isLogin', _this.user);\n      }\n    }).catch(function (err) {\n      console.log('failed to connect');\n    });\n  },\n  data: function data() {\n    return {\n      msg: '',\n      login: false,\n      user: 0\n    };\n  },\n  methods: {\n    action_data: function action_data() {\n      if (!this.msg) {\n        return;\n      }\n      alert(this.msg);\n    },\n    submitLogin: function submitLogin(e) {\n      e.preventDefault();\n      this.$http.post(e.target.action, {\n        username: this.$refs.username.value,\n        password: this.$refs.password.value\n      }).then(function (response) {\n        switch (response.body.code) {\n          case 3000:\n            window.location.reload();\n            break;\n          case 3001:\n            alert('用户名或密码错误，请重试');\n            break;\n          case 3002:\n            alert('用户名或密码格式不正确，请重试');\n            break;\n          case 3003:\n            alert('服务忙，请重试');\n            break;\n        }\n      });\n    }\n  }\n});\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/img/logo.2965242.png\";\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(5)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(3),\n  /* template */\n  __webpack_require__(10),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(6)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(4),\n  /* template */\n  __webpack_require__(11),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"footer\"\n  }, [_c('div', {\n    staticClass: \"footer_inner\"\n  }, [_c('table', {\n    staticClass: \"footer_tb\"\n  }, [_c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"中国互联网举报中心\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xICP备xxxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"节目制作经营许可证x字第xxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xICP证xxxxx号\")])])]), _vm._v(\" \"), _c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"网络文化经营单位\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xx互联网举报中心\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"网络110报警服务\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"x网文xxxxxxx号\")])])]), _vm._v(\" \"), _c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"x公安备xxxxxxxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"12318文化市场举报热线\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_bottom\"\n  }, [_c('h1', [_vm._v(\"xx电影网\")]), _vm._v(\" \"), _c('p', [_vm._v(\"本站不提供任何视听上传服务，所有内容均来自视频分享站点所提供的公开引用资源。Copyright © 200x-2017 保留所有权利\")])])])])\n}]}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header-wrapper\"\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.user == 0),\n      expression: \"user==0\"\n    }],\n    staticClass: \"login_reg\"\n  }, [_c('span', {\n    on: {\n      \"mouseover\": function($event) {\n        _vm.login = true\n      },\n      \"mouseout\": function($event) {\n        _vm.login = false\n      }\n    }\n  }, [_c('a', [_vm._v(\"登录\")]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"login_fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.login),\n      expression: \"login\"\n    }],\n    staticClass: \"login_wrapper\"\n  }, [_c('form', {\n    staticClass: \"login\",\n    attrs: {\n      \"method\": \"post\",\n      \"action\": \"/login\"\n    },\n    on: {\n      \"submit\": _vm.submitLogin\n    }\n  }, [_c('input', {\n    ref: \"username\",\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"username\",\n      \"placeholder\": \"请输入用户名\"\n    }\n  }), _c('br'), _vm._v(\" \"), _c('input', {\n    ref: \"password\",\n    attrs: {\n      \"type\": \"password\",\n      \"name\": \"password\",\n      \"placeholder\": \"请输入密码\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"登录\")])])])])], 1), _vm._v(\"|\\n    \"), _c('a', {\n    attrs: {\n      \"href\": \"./register\"\n    }\n  }, [_vm._v(\"注册\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.user != 0),\n      expression: \"user!=0\"\n    }],\n    staticClass: \"userLogin\"\n  }, [_c('span', [_vm._v(\"欢迎您！用户：\" + _vm._s(_vm.user.username))]), _vm._v(\" \"), _c('span', [_c('a', {\n    attrs: {\n      \"href\": \"/logout\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.user = 0\n      }\n    }\n  }, [_vm._v(\" 退出\")])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"logo-wrapper\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": __webpack_require__(7),\n      \"alt\": \"\",\n      \"width\": \"50px\",\n      \"height\": \"50px\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('h1', [_c('a', {\n    attrs: {\n      \"href\": \"/\"\n    }\n  }, [_vm._v(\"xx电影网\")])])\n}]}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 13 */,\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(24)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(19),\n  /* template */\n  __webpack_require__(31),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 15 */,\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    count: Number,\n    pageSize: Number,\n    bar_number: Number },\n  data: function data() {\n    return {\n      pages: [],\n      btnFlag: 1,\n      btn_on: 'on',\n      initFlag: false\n    };\n  },\n\n  mounted: function mounted() {\n    if (this.count <= this.pageSize * this.bar_number) {\n      var num = Math.ceil(this.count / this.pageSize);\n      for (var i = 1; i <= num; i++) {\n        this.pages.push(i);\n      }\n    } else {\n      for (var j = 1; j <= this.bar_number; j++) {\n        this.pages.push(j);\n      }\n    }\n  },\n  methods: {\n    handlePage: function handlePage(e) {\n      if (e.target.tagName == 'SPAN') {\n        var attr = e.target.getAttribute('pageData');\n\n        switch (attr) {\n          case 'first':\n            this.handleBtnFlag('first');\n            break;\n          case 'lastPage':\n            this.handleBtnFlag('last');\n            break;\n          case 'nextPage':\n            this.handleBtnFlag('next');\n            break;\n          case 'end':\n            this.handleBtnFlag('end');\n            break;\n          default:\n            if (this.btnFlag == parseInt(attr)) return;\n            this.btnFlag = parseInt(attr);\n            this.$emit('pageChange', this.btnFlag);\n        }\n      }\n    },\n    handleBtnFlag: function handleBtnFlag(info) {\n      var total = Math.ceil(this.count / this.pageSize);\n      if (info == 'last') {\n        if (this.btnFlag == 1) return;\n        this.btnFlag--;\n        this.$emit('pageChange', this.btnFlag);\n        if (this.btnFlag % this.bar_number == 0) {\n          this.pages = [];\n          var num1 = this.btnFlag - this.bar_number;\n          for (var i = 0; i < this.bar_number; i++) {\n            num1++;\n            this.pages.push(num1);\n          }\n        }\n      } else if (info == 'next') {\n        if (this.btnFlag == Math.ceil(this.count / this.pageSize)) return;\n        this.btnFlag++;\n        this.$emit('pageChange', this.btnFlag);\n        if (this.btnFlag % this.bar_number == 1) {\n          this.pages = [];\n          var num = this.btnFlag;\n          for (var _i = 0; _i < this.bar_number; _i++) {\n            if (num > total) return;\n            this.pages.push(num);\n            num++;\n          }\n        }\n      } else if (info == 'end') {\n        if (this.btnFlag == total) return;\n        this.btnFlag = total;\n        this.$emit('pageChange', this.btnFlag);\n        var pageNum = this.btnFlag - this.bar_number + 1;\n        this.pages = [];\n        for (var _i2 = 0; _i2 < this.bar_number; _i2++) {\n          if (pageNum > total || pageNum < 1) {\n            pageNum++;\n            continue;\n          }\n          this.pages.push(pageNum);\n          pageNum++;\n        }\n      } else if (info == 'first') {\n        if (this.btnFlag == 1) return;\n        this.btnFlag = 1;\n        this.$emit('pageChange', this.btnFlag);\n        this.pages = [];\n        for (var _i3 = 1; _i3 <= this.bar_number; _i3++) {\n          if (_i3 > total) return;\n          this.pages.push(_i3);\n        }\n      }\n    }\n\n  }\n\n});\n\n/***/ }),\n/* 17 */,\n/* 18 */,\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_header_header_vue__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_header_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__common_header_header_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      movieData: '',\n      comments: [],\n      inputComment: '',\n      user: '',\n      locked: true,\n      pageSize: 5,\n      count: false,\n      bar_number: 5\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var mid = parseInt(/[0-9]+$/.exec(window.location.href));\n\n    this.$http.get('/movie_data', {\n      params: {\n        mid: mid\n      }\n    }).then(function (response) {\n      _this.movieData = response.body;\n      document.title = response.body.title;\n    }).catch(function (err) {\n      console.log('failed to connect');\n    });\n\n    this.$http.get('/comment', {\n      params: {\n        mid: mid,\n        page: 1,\n        pageSize: this.pageSize,\n        count: true\n      }\n    }).then(function (response) {\n      console.log(response.body);\n      _this.comments = response.body.comments;\n      _this.count = response.body.count;\n    }).catch(function (err) {\n      console.log(err);\n    });\n  },\n  methods: {\n    sendData: function sendData(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var content = this.inputComment.trim();\n      var time = new Date();\n      var uid = this.user.id;\n      var mid = parseInt(/[0-9]+$/.exec(window.location.href));\n      if (content.length > 200) {\n        alert(\"字数超过了\" + (content.length - 200) + \"字\");\n        return;\n      }\n      if (content) {\n        this.$http.post('/comment', {\n          content: content,\n          time: time.toLocaleString(),\n          uid: uid,\n          mid: mid\n        }).then(function (response) {\n          if (response.body.code == 5000) {\n            alert(\"评论成功\");\n            _this2.comments.pop();\n            _this2.comments.unshift({\n              content: content,\n              time: time.toLocaleString(),\n              username: _this2.user.username\n            });\n            if (_this2.count == 0) {\n              _this2.count = 1;\n            }\n          } else {\n            alert(\"服务器忙，请重试\");\n          }\n        });\n      }\n    },\n    loginState: function loginState(user) {\n      if (user) {\n        this.locked = false;\n        this.user = user;\n      }\n    },\n    getComments: function getComments(page) {\n      var _this3 = this;\n\n      var mid = parseInt(/[0-9]+$/.exec(window.location.href));\n      this.$http.get('comment', {\n        params: {\n          mid: mid,\n          page: page,\n          pageSize: this.pageSize\n        }\n      }).then(function (response) {\n        _this3.comments = response.body.comments;\n      }).catch(function (err) {\n        throw Error(err);\n      });\n    }\n  },\n  components: {\n    myHeader: __WEBPACK_IMPORTED_MODULE_0__common_header_header_vue___default.a,\n    myFooter: __WEBPACK_IMPORTED_MODULE_1__common_footer_footer_vue___default.a,\n    pagesBar: __WEBPACK_IMPORTED_MODULE_2__common_page_bar_page_bar_vue___default.a\n  }\n});\n\n/***/ }),\n/* 20 */,\n/* 21 */,\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__movie_vue__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__movie_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__movie_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_resource__ = __webpack_require__(1);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_2_vue_resource__[\"a\" /* default */]);\n\nvar reg = new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__movie_vue___default.a);\n  }\n}).$mount(\"#movie\");\n\n/***/ }),\n/* 23 */,\n/* 24 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(25)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(16),\n  /* template */\n  __webpack_require__(32),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 30 */,\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('myHeader', {\n    on: {\n      \"isLogin\": _vm.loginState\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"movie_wrapper\"\n  }, [_c('div', {\n    staticClass: \"info_wrapper\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.movieData.img,\n      \"width\": \"300px\",\n      \"height\": \"400px\",\n      \"alt\": \"\"\n    }\n  }), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"片名：\")]), _vm._v(_vm._s(_vm.movieData.title))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"导演：\")]), _vm._v(_vm._s(_vm.movieData.director))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"主演：\")]), _vm._v(_vm._s(_vm.movieData.actors))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"年份：\")]), _vm._v(_vm._s(_vm.movieData.year))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"评分：\")]), _vm._v(_vm._s(_vm.movieData.rating))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment_wrapper\"\n  }, [_c('h3', [_vm._v(\"评论\")]), _vm._v(\" \"), _c('ul', _vm._l((_vm.comments), function(item) {\n    return _c('li', {\n      staticClass: \"comment_item\"\n    }, [_c('span', {\n      staticClass: \"user\"\n    }, [_vm._v(_vm._s(item.username) + \":\")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"comment\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"date\"\n    }, [_vm._v(_vm._s(item.time))])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.count == 0),\n      expression: \"count==0\"\n    }],\n    staticClass: \"no_comment\"\n  }, [_vm._v(\"\\n        暂无评论\\n      \")])]), _vm._v(\" \"), (_vm.count) ? _c('pagesBar', {\n    attrs: {\n      \"count\": _vm.count,\n      \"pageSize\": _vm.pageSize,\n      \"bar_number\": _vm.bar_number\n    },\n    on: {\n      \"pageChange\": _vm.getComments\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"input_wrapper\"\n  }, [_c('form', {\n    staticClass: \"input\",\n    attrs: {\n      \"action\": \"/comment\",\n      \"method\": \"post\"\n    },\n    on: {\n      \"submit\": _vm.sendData\n    }\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputComment),\n      expression: \"inputComment\"\n    }],\n    staticClass: \"content\",\n    attrs: {\n      \"name\": \"content\",\n      \"disabled\": _vm.locked\n    },\n    domProps: {\n      \"value\": (_vm.inputComment)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputComment = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"submit_btn\",\n    attrs: {\n      \"type\": \"submit\",\n      \"value\": \"提交\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.locked),\n      expression: \"locked\"\n    }],\n    staticClass: \"lockedInfo\"\n  }, [_vm._v(\"\\n        登陆后评论\\n      \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"word_limit\"\n  }, [_vm._v(\"最多200字\")])])], 1), _vm._v(\" \"), _c('myFooter')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar_wrapper\",\n    on: {\n      \"click\": _vm.handlePage\n    }\n  }, [_c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"first\"\n    }\n  }, [_vm._v(\"首页\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"lastPage\"\n    }\n  }, [_vm._v(\"上一页\")]), _vm._v(\" \"), _vm._l((_vm.pages), function(num, index) {\n    return _c('span', {\n      class: _vm.btnFlag == num ? _vm.btn_on : '',\n      attrs: {\n        \"pageData\": num\n      }\n    }, [_vm._v(_vm._s(num))])\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"nextPage\"\n    }\n  }, [_vm._v(\"下一页\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"end\"\n    }\n  }, [_vm._v(\"最后\")])], 2)\n},staticRenderFns: []}\n\n/***/ })\n],[22]);\n\n\n// WEBPACK FOOTER //\n// static/js/movie.4cbf9825e317998b8370.js","<template>\n<div class=\"footer\">\n  <div class=\"footer_inner\">\n    <table class=\"footer_tb\">\n      <tr>\n        <td><a href=\"#\">中国互联网举报中心</a></td>\n        <td><a href=\"#\">xICP备xxxx号</a></td>\n        <td><a href=\"#\">节目制作经营许可证x字第xxx号</a></td>\n        <td> <a href=\"#\">xICP证xxxxx号</a></td>\n      </tr>\n      <tr>\n        <td><a href=\"#\">网络文化经营单位</a></td>\n        <td><a href=\"#\">xx互联网举报中心</a></td>\n        <td><a href=\"#\">网络110报警服务</a></td>\n        <td> <a href=\"#\">x网文xxxxxxx号</a></td>\n      </tr>\n      <tr>\n        <td><a href=\"#\">x公安备xxxxxxxx号</a></td>\n        <td><a href=\"#\">12318文化市场举报热线</a></td>\n      </tr>\n    </table>\n    <div class=\"footer_bottom\">\n      <h1>xx电影网</h1>\n      <p>本站不提供任何视听上传服务，所有内容均来自视频分享站点所提供的公开引用资源。Copyright © 200x-2017 保留所有权利</p>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {}\n</script>\n\n<style lang=\"stylus\" rel='stylesheet/stylus'>\n  .footer\n    width:100%\n    height: 300px\n    background-color:#eee\n    .footer_inner\n      width: 100%\n      height:100%\n      padding:60px 50px\n      box-sizing: border-box\n      .footer_tb\n        width:70%\n        height: 50%\n        font-size: 13px\n        text-align: center\n        margin:0 auto\n        a:hover\n          color:#00a1d6\n      .footer_bottom\n        width:70%\n        height:50%\n        margin:0 auto\n        padding-top: 20px\n        font-size: 13px\n        text-align: center\n        color:#7e8c8d\n        h1\n          font-size: 28px\n          font-weight:bold\n          margin-bottom:30px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// footer.vue?382bfdcc","<template>\n  <div class=\"header-wrapper\">\n    <div class=\"logo-wrapper\">\n      <img src=\"./logo.png\" alt=\"\" width='50px' height=\"50px\">\n    </div>\n    <h1><a href=\"/\">xx电影网</a></h1>\n    <div class=\"login_reg\" v-show='user==0'>\n      <span @mouseover=\"login=true\" @mouseout=\"login=false\">\n        <a>登录</a>\n        <transition name=\"login_fade\">\n          <div class=\"login_wrapper\" v-show=\"login\">\n            <form class=\"login\" @submit='submitLogin' method=\"post\" action='/login'>\n              <input type=\"text\" ref='username' name='username' placeholder=\"请输入用户名\"><br/>\n              <input type=\"password\" ref='password' name='password' placeholder=\"请输入密码\">\n              <button type=\"submit\">登录</button>\n            </form>\n          </div>\n      </transition>\n      </span>|\n      <a href=\"./register\">注册</a>\n    </div>\n    <div class=\"userLogin\" v-show='user!=0'>\n      <span>欢迎您！用户：{{user.username}}</span>\n      <span><a @click=\"user=0\" href=\"/logout\"> 退出</a></span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  mounted:function(){\n    this.$http.get('/get_login_state').then(response=>{\n      if(response.body.user){\n        this.user=response.body.user\n        this.$emit('isLogin',this.user)\n      }\n    }).catch(err=>{\n      console.log('failed to connect');\n    })\n  },\n  data:function(){\n    return {\n      msg:'',\n      login:false,\n      user:0\n    }\n  },\n  methods:{\n    action_data:function(){\n      if(!this.msg){return}\n      alert(this.msg)\n    },\n    submitLogin:function(e){ //处理、提交登录数据\n      e.preventDefault()\n      this.$http.post(e.target.action,{\n        username:this.$refs.username.value,\n        password:this.$refs.password.value\n      }).then(response=>{\n        switch (response.body.code){\n          case 3000:\n          window.location.reload()\n          break;\n          case 3001:\n            alert('用户名或密码错误，请重试')\n          break;\n          case 3002:\n            alert('用户名或密码格式不正确，请重试')\n          break;\n          case 3003:\n            alert('服务忙，请重试')\n          break;\n        }\n\n      })\n\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" rel='stylesheet/stylus'>\n  .header-wrapper\n    width:100%\n    height:60px\n    background-color:#fff\n    position:fixed\n    padding-left:50px\n    border-bottom:2px solid #ffafc9\n    z-index:6666\n    .logo-wrapper\n      width:60px\n      height:100%\n      display:inline-block\n      vertical-align:top\n      padding-top:5px\n    h1\n      font-size:26px\n      display:inline-block\n      height:60px\n      line-height:60px\n      vertical-align:top\n      color:#00a1d6\n      a\n        color:@color\n    .login_reg\n      display:inline-block\n      position:absolute\n      left:1000px\n      height:60px\n      width:140px\n      vertical-align:middle\n      color:#00a1d6\n      font-size:20px\n      .login_fade-enter,.login_fade-leave-active\n        opacity: 0\n      .login_fade-enter-active,.login_fade-leave-active\n        transition:all 0.6s\n      a\n        cursor: pointer\n        display:inline-block\n        height:60px\n        width:60px\n        color:#00a1d6\n        text-align:center\n        line-height:60px\n      a:hover\n        background:#f25d8e\n        color:#fff\n      .login_wrapper\n        position: absolute\n        border-radius: 0 0 10px 10px\n        margin-top:2px\n        border:2px solid #ffafc9\n        border-top:none\n        background-color: #fff\n        padding: 20px\n        box-sizing: border-box\n        width:300px\n        height:200px\n        left:-50px\n        font-size: 18px\n        color:black\n        .login\n          height:130px\n          text-align: center\n          input\n            width:100%\n            height:30px\n            border:1px solid rgba(0,0,0,0.2)\n            font-size: 16px\n            color:#666\n            border-radius: 6px\n            text-indent: 6px\n            margin-bottom: 30px\n          button\n            border:none\n            width:100px\n            height:40px\n            font-size:20px\n            border-radius: 10px\n            letter-spacing: 6px\n            background-color: #67bdcd\n            color:#fff\n    .userLogin\n      display:inline-block\n      position:absolute\n      left:1000px\n      height:60px\n      line-height:60px\n      width:300px\n      font-size: 14px\n      vertical-align:middle\n      color:#00a1d6\n      font-size:20px\n      &>span:first-child\n        display: inline-block\n        width:200px\n        font-size: 14px\n        overflow: hidden\n        white-space: nowrap\n        text-overflow: ellipsis\n      &>span:last-child\n        display: inline-block\n        margin-left:20px\n        font-size: 14px\n        vertical-align: top\n        a\n          color:@color\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// header.vue?1868a92e","module.exports = __webpack_public_path__ + \"static/img/logo.2965242.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/header/logo.png\n// module id = 7\n// module chunks = 0 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e1fbee2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footer.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./footer.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e1fbee2\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./footer.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/footer/footer.vue\n// module id = 8\n// module chunks = 0 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4831a762\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4831a762\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/header/header.vue\n// module id = 9\n// module chunks = 0 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"footer\"\n  }, [_c('div', {\n    staticClass: \"footer_inner\"\n  }, [_c('table', {\n    staticClass: \"footer_tb\"\n  }, [_c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"中国互联网举报中心\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xICP备xxxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"节目制作经营许可证x字第xxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xICP证xxxxx号\")])])]), _vm._v(\" \"), _c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"网络文化经营单位\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"xx互联网举报中心\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"网络110报警服务\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"x网文xxxxxxx号\")])])]), _vm._v(\" \"), _c('tr', [_c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"x公安备xxxxxxxx号\")])]), _vm._v(\" \"), _c('td', [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    }\n  }, [_vm._v(\"12318文化市场举报热线\")])])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"footer_bottom\"\n  }, [_c('h1', [_vm._v(\"xx电影网\")]), _vm._v(\" \"), _c('p', [_vm._v(\"本站不提供任何视听上传服务，所有内容均来自视频分享站点所提供的公开引用资源。Copyright © 200x-2017 保留所有权利\")])])])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e1fbee2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/common/footer/footer.vue\n// module id = 10\n// module chunks = 0 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"header-wrapper\"\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.user == 0),\n      expression: \"user==0\"\n    }],\n    staticClass: \"login_reg\"\n  }, [_c('span', {\n    on: {\n      \"mouseover\": function($event) {\n        _vm.login = true\n      },\n      \"mouseout\": function($event) {\n        _vm.login = false\n      }\n    }\n  }, [_c('a', [_vm._v(\"登录\")]), _vm._v(\" \"), _c('transition', {\n    attrs: {\n      \"name\": \"login_fade\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.login),\n      expression: \"login\"\n    }],\n    staticClass: \"login_wrapper\"\n  }, [_c('form', {\n    staticClass: \"login\",\n    attrs: {\n      \"method\": \"post\",\n      \"action\": \"/login\"\n    },\n    on: {\n      \"submit\": _vm.submitLogin\n    }\n  }, [_c('input', {\n    ref: \"username\",\n    attrs: {\n      \"type\": \"text\",\n      \"name\": \"username\",\n      \"placeholder\": \"请输入用户名\"\n    }\n  }), _c('br'), _vm._v(\" \"), _c('input', {\n    ref: \"password\",\n    attrs: {\n      \"type\": \"password\",\n      \"name\": \"password\",\n      \"placeholder\": \"请输入密码\"\n    }\n  }), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"登录\")])])])])], 1), _vm._v(\"|\\n    \"), _c('a', {\n    attrs: {\n      \"href\": \"./register\"\n    }\n  }, [_vm._v(\"注册\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.user != 0),\n      expression: \"user!=0\"\n    }],\n    staticClass: \"userLogin\"\n  }, [_c('span', [_vm._v(\"欢迎您！用户：\" + _vm._s(_vm.user.username))]), _vm._v(\" \"), _c('span', [_c('a', {\n    attrs: {\n      \"href\": \"/logout\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.user = 0\n      }\n    }\n  }, [_vm._v(\" 退出\")])])])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"logo-wrapper\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"./logo.png\"),\n      \"alt\": \"\",\n      \"width\": \"50px\",\n      \"height\": \"50px\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('h1', [_c('a', {\n    attrs: {\n      \"href\": \"/\"\n    }\n  }, [_vm._v(\"xx电影网\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4831a762\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/common/header/header.vue\n// module id = 11\n// module chunks = 0 1 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c2527c6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./movie.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./movie.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c2527c6\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./movie.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/movie/movie.vue\n// module id = 14\n// module chunks = 1","<template lang=\"html\">\n  <div class=\"bar_wrapper\" @click=\"handlePage\">\n    <span class=\"large_btn\"  pageData='first'>首页</span>\n    <span class=\"large_btn\"  pageData='lastPage'>上一页</span>\n    <span v-for=\"(num, index) in pages\" :class=\"btnFlag==num ? btn_on :'' \" :pageData='num'>{{num}}</span>\n    <span class=\"large_btn\"  pageData='nextPage'>下一页</span>\n    <span class=\"large_btn\"  pageData='end'>最后</span>\n  </div>\n</template>\n\n<script>\n\nexport default{\n  props:{\n    count:Number,      //数据库查询总共几条数据\n    pageSize:Number,   //每页几条数据\n    bar_number:Number, //显示几个按钮\n  },\n  data :function(){\n    return {\n      pages:[],   //渲染页码按钮所用数组\n      btnFlag:1,  //当前被选中页码\n      btn_on:'on',\n      initFlag:false\n    }\n  },\n\n  mounted:function(){\n    if(this.count<=this.pageSize*this.bar_number){\n      let num=Math.ceil(this.count/this.pageSize)\n      for(let i=1;i<=num;i++){\n        this.pages.push(i)\n      }\n    }else{\n      for(let j=1;j<=this.bar_number;j++){\n        this.pages.push(j)\n      }\n    }\n  },\n  methods:{\n    handlePage:function(e){\n      if(e.target.tagName=='SPAN'){\n        let attr=e.target.getAttribute('pageData')\n\n        switch (attr){\n          case 'first':\n          this.handleBtnFlag('first')\n          break\n          case 'lastPage':\n          this.handleBtnFlag('last')\n          break\n          case 'nextPage':\n          this.handleBtnFlag('next')\n          break\n          case 'end':\n          this.handleBtnFlag('end')\n          break\n          default:\n          if(this.btnFlag==parseInt(attr))return\n          this.btnFlag=parseInt(attr)\n          this.$emit('pageChange',this.btnFlag)\n        }\n      }\n    },\n    handleBtnFlag:function(info){\n      let total=Math.ceil(this.count/this.pageSize)\n      if(info=='last'){\n        if(this.btnFlag==1)return\n        this.btnFlag--\n        this.$emit('pageChange',this.btnFlag)\n        if(this.btnFlag%this.bar_number==0){\n          this.pages=[]\n          let num1=this.btnFlag-this.bar_number\n          for(let i=0;i<this.bar_number;i++){\n            num1++\n            this.pages.push(num1)\n          }\n        }\n      }else if(info=='next'){\n        if(this.btnFlag==Math.ceil(this.count/this.pageSize))return\n        this.btnFlag++\n        this.$emit('pageChange',this.btnFlag)\n        if(this.btnFlag%this.bar_number==1){\n          this.pages=[];\n          let num=this.btnFlag\n          for(let i=0;i<this.bar_number;i++){\n            if(num>total)return\n            this.pages.push(num)\n            num++\n          }\n        }\n      }else if(info=='end'){\n        if(this.btnFlag==total)return\n        this.btnFlag=total\n        this.$emit('pageChange',this.btnFlag)\n        let pageNum=this.btnFlag-this.bar_number+1;\n        this.pages=[]\n        for(let i=0;i<this.bar_number;i++){\n          if(pageNum>total||pageNum<1){\n            pageNum++\n            continue\n          }\n          this.pages.push(pageNum)\n          pageNum++\n        }\n      }else if(info=='first'){\n        if(this.btnFlag==1)return\n        this.btnFlag=1\n        this.$emit('pageChange',this.btnFlag)\n        this.pages=[]\n        for(let i=1;i<=this.bar_number;i++){\n          if(i>total)return\n          this.pages.push(i)\n        }\n      }\n    }\n\n  }\n\n\n}\n\n\n</script>\n\n<style lang='stylus' rel='stylesheet/stylus'>\n  .bar_wrapper\n    height:40px\n    line-height: 40px\n    margin:20px auto\n    span\n      border:1px solid rgba(0,0,0,0.2)\n      box-shadow: 0 0 1px rgba(0,0,0,0.2)\n      border-radius:4px\n      display: inline-block\n      width:40px\n      height: 40px\n      text-align: center\n      margin-right:8px\n      cursor:pointer;\n      color:#666\n    .large_btn\n      width:60px\n    .on\n      background-color: rgba(1,126,102,0.6);\n      color:#fff\n      border:none\n      box-shadow: 0 0 0\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// page_bar.vue?1b132890","<template lang=\"html\">\n  <div>\n    <myHeader @isLogin='loginState'></myHeader>\n    <div class=\"movie_wrapper\">\n      <div class=\"info_wrapper\">\n          <img :src=\"movieData.img\" width=\"300px\" height=\"400px\" alt=\"\">\n          <ul>\n            <li><span>片名：</span>{{movieData.title}}</li>\n            <li><span>导演：</span>{{movieData.director}}</li>\n            <li><span>主演：</span>{{movieData.actors}}</li>\n            <li><span>年份：</span>{{movieData.year}}</li>\n            <li><span>评分：</span>{{movieData.rating}}</li>\n          </ul>\n      </div>\n      <div class=\"comment_wrapper\">\n        <h3>评论</h3>\n        <ul>\n          <li v-for=\"item in comments\" class=\"comment_item\">\n            <span class=\"user\">{{item.username}}:</span>\n            <p class=\"comment\">{{item.content}}</p>\n            <span class=\"date\">{{item.time}}</span>\n          </li>\n        </ul>\n        <div class=\"no_comment\" v-show=\"count==0\">\n          暂无评论\n        </div>\n      </div>\n      <pagesBar v-if=\"count\" :count=\"count\" :pageSize=\"pageSize\" :bar_number=\"bar_number\" @pageChange=\"getComments\"></pagesBar>\n      <div class=\"input_wrapper\">\n        <form class=\"input\" @submit='sendData' action=\"/comment\" method=\"post\">\n          <textarea name=\"content\" v-model='inputComment' class=\"content\" :disabled=\"locked\"></textarea>\n          <input type=\"submit\" value='提交' class=\"submit_btn\">\n        </form>\n        <div class=\"lockedInfo\" v-show='locked'>\n          登陆后评论\n        </div>\n        <span class=\"word_limit\">最多200字</span>\n      </div>\n    </div>\n    <myFooter></myFooter>\n  </div>\n</template>\n\n<script>\nimport myHeader from \"../common/header/header.vue\"\nimport myFooter from \"../common/footer/footer.vue\"\nimport pagesBar from \"../common/page_bar/page_bar.vue\"\n\nexport default {\n  data:function(){\n    return {\n      movieData:'',\n      comments:[],\n      inputComment:'',\n      user:'',\n      locked:true,\n      pageSize:5,\n      count:false,\n      bar_number:5\n    }\n  },\n  mounted:function(){\n    let mid=parseInt(/[0-9]+$/.exec(window.location.href))\n    //获取电影信息\n    this.$http.get('/movie_data',{\n      params:{\n        mid:mid\n      }\n    })\n    .then(response=>{\n      this.movieData=response.body\n      document.title=response.body.title\n    })\n    .catch(err=>{\n      console.log('failed to connect');\n    });\n\n\n    //评论初始化\n    this.$http.get('/comment',{\n      params:{\n        mid:mid,\n        page:1,\n        pageSize:this.pageSize,\n        count:true\n      }\n    })\n    .then(response=>{\n      console.log(response.body);\n      this.comments=response.body.comments\n      this.count=response.body.count\n    })\n    .catch(err=>{\n      console.log(err);\n    })\n\n  },\n  methods:{\n    sendData:function(e){\n      e.preventDefault()\n      let content=this.inputComment.trim()\n      let time=new Date()\n      let uid=this.user.id\n      let mid=parseInt(/[0-9]+$/.exec(window.location.href))\n      if(content.length>200){\n        alert(\"字数超过了\"+(content.length-200)+\"字\")\n        return\n      }\n      if(content){\n        this.$http.post('/comment',{\n            content,\n            time:time.toLocaleString(),\n            uid,\n            mid\n        }).then(response=>{\n          if(response.body.code==5000){\n            alert(\"评论成功\")\n            this.comments.pop()\n            this.comments.unshift({\n              content,\n              time:time.toLocaleString(),\n              username:this.user.username\n            });\n            if(this.count==0){\n              this.count=1\n            }\n          }else{\n            alert(\"服务器忙，请重试\")\n          }\n        })\n      }\n    },\n    loginState:function(user){\n      if(user){\n        this.locked=false\n        this.user=user\n      }\n    },\n    getComments:function(page){\n      let mid=parseInt(/[0-9]+$/.exec(window.location.href))\n      this.$http.get('comment',{\n        params:{\n          mid:mid,\n          page:page,\n          pageSize:this.pageSize\n        }\n      }).then(response=>{\n        this.comments=response.body.comments\n      }).catch(err=>{\n        throw Error(err)\n      })\n    }\n  },\n  components:{\n    myHeader,\n    myFooter,\n    pagesBar\n  }\n}\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .movie_wrapper\n    width:800px\n    margin:0 auto\n    padding-top:100px\n    margin-bottom: 20px\n    .info_wrapper\n      ul\n        display: inline-block\n        height:400px\n        vertical-align: top\n        margin-left:40px\n        li\n          height:50px\n          line-height: 50px\n          white-space: nowrap\n          text-overflow: ellipsis\n          overflow: hidden;\n          color:#37a\n          font-size: 18px\n          span\n            color:#999\n            font-size:20px\n    .comment_wrapper\n      border:1px solid rgba(0,0,0,0.2)\n      box-shadow:0 0 2px rgba(0,0,0,0.2)\n      padding:20px 20px\n      margin-top:20px\n      h3\n        font-size:24px\n        margin-bottom: 15px\n        color:#017e66\n        font-weight: bold\n      .comment_item\n        border-top: 1px solid #e5e9ef\n        position:relative\n        padding:20px 0\n        color:#333\n        font-size:18px\n        .user\n          color:#017e66\n          margin-right:8px\n          font-weight: bold\n          vertical-align: top\n          display: inline-block\n        .date\n          position: absolute\n          right:0\n          font-size: 13px\n          color:#666\n        .comment\n          display: inline-block;\n          word-wrap: break-word;\n          word-break:break-all;\n          width:500px\n      .no_comment\n        text-align: center;\n        font-size: 16px\n        color: rgba(0,0,0,0.6)\n    .input_wrapper\n      margin-top:20px\n      border:1px solid rgba(0,0,0,0.2)\n      box-shadow:0 0 2px rgba(0,0,0,0.2)\n      position: relative\n      .input\n        width:100%\n        .content\n          display: block;\n          margin:20px auto;\n          resize: none\n          border:2px solid rgba(1,126,102,0.6)\n          width:750px\n          font-size: 16px\n          height:200px\n          overflow:auto\n          word-break: break-all\n        .submit_btn\n          display: block;\n          border-radius: 4px\n          cursor: pointer\n          width:100px\n          height: 40px\n          background-color: rgba(1,126,102,0.6)\n          color:#fff\n          margin:20px auto\n      .lockedInfo\n        width:120px\n        height: 50px\n        line-height: 50px\n        background-color: rgba(1,126,102,0.6)\n        color:#fff\n        font-size: 20px\n        text-align: center\n        border-radius: 4px\n        position: absolute\n        left:50%\n        margin-left:-60px\n        top:95px\n      .word_limit\n        font-size:18px\n        color:rgba(0,0,0,0.6)\n        position: absolute;\n        bottom: 60px\n        right:20px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// movie.vue?15227136","import Vue from 'vue'\nimport movie from \"./movie.vue\"\nimport resource from 'vue-resource'\n\n\nVue.use(resource)\n\nlet reg=new Vue({\n  render:h=>h(movie)\n}).$mount(\"#movie\")\n\n\n\n// WEBPACK FOOTER //\n// ./src/movie/movie.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2500e08f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./page_bar.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./page_bar.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2500e08f\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./page_bar.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/page_bar/page_bar.vue\n// module id = 29\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('myHeader', {\n    on: {\n      \"isLogin\": _vm.loginState\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"movie_wrapper\"\n  }, [_c('div', {\n    staticClass: \"info_wrapper\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.movieData.img,\n      \"width\": \"300px\",\n      \"height\": \"400px\",\n      \"alt\": \"\"\n    }\n  }), _vm._v(\" \"), _c('ul', [_c('li', [_c('span', [_vm._v(\"片名：\")]), _vm._v(_vm._s(_vm.movieData.title))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"导演：\")]), _vm._v(_vm._s(_vm.movieData.director))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"主演：\")]), _vm._v(_vm._s(_vm.movieData.actors))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"年份：\")]), _vm._v(_vm._s(_vm.movieData.year))]), _vm._v(\" \"), _c('li', [_c('span', [_vm._v(\"评分：\")]), _vm._v(_vm._s(_vm.movieData.rating))])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"comment_wrapper\"\n  }, [_c('h3', [_vm._v(\"评论\")]), _vm._v(\" \"), _c('ul', _vm._l((_vm.comments), function(item) {\n    return _c('li', {\n      staticClass: \"comment_item\"\n    }, [_c('span', {\n      staticClass: \"user\"\n    }, [_vm._v(_vm._s(item.username) + \":\")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"comment\"\n    }, [_vm._v(_vm._s(item.content))]), _vm._v(\" \"), _c('span', {\n      staticClass: \"date\"\n    }, [_vm._v(_vm._s(item.time))])])\n  })), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.count == 0),\n      expression: \"count==0\"\n    }],\n    staticClass: \"no_comment\"\n  }, [_vm._v(\"\\n        暂无评论\\n      \")])]), _vm._v(\" \"), (_vm.count) ? _c('pagesBar', {\n    attrs: {\n      \"count\": _vm.count,\n      \"pageSize\": _vm.pageSize,\n      \"bar_number\": _vm.bar_number\n    },\n    on: {\n      \"pageChange\": _vm.getComments\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"input_wrapper\"\n  }, [_c('form', {\n    staticClass: \"input\",\n    attrs: {\n      \"action\": \"/comment\",\n      \"method\": \"post\"\n    },\n    on: {\n      \"submit\": _vm.sendData\n    }\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputComment),\n      expression: \"inputComment\"\n    }],\n    staticClass: \"content\",\n    attrs: {\n      \"name\": \"content\",\n      \"disabled\": _vm.locked\n    },\n    domProps: {\n      \"value\": (_vm.inputComment)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputComment = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('input', {\n    staticClass: \"submit_btn\",\n    attrs: {\n      \"type\": \"submit\",\n      \"value\": \"提交\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.locked),\n      expression: \"locked\"\n    }],\n    staticClass: \"lockedInfo\"\n  }, [_vm._v(\"\\n        登陆后评论\\n      \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"word_limit\"\n  }, [_vm._v(\"最多200字\")])])], 1), _vm._v(\" \"), _c('myFooter')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c2527c6\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/movie/movie.vue\n// module id = 31\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar_wrapper\",\n    on: {\n      \"click\": _vm.handlePage\n    }\n  }, [_c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"first\"\n    }\n  }, [_vm._v(\"首页\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"lastPage\"\n    }\n  }, [_vm._v(\"上一页\")]), _vm._v(\" \"), _vm._l((_vm.pages), function(num, index) {\n    return _c('span', {\n      class: _vm.btnFlag == num ? _vm.btn_on : '',\n      attrs: {\n        \"pageData\": num\n      }\n    }, [_vm._v(_vm._s(num))])\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"nextPage\"\n    }\n  }, [_vm._v(\"下一页\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"large_btn\",\n    attrs: {\n      \"pageData\": \"end\"\n    }\n  }, [_vm._v(\"最后\")])], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2500e08f\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/common/page_bar/page_bar.vue\n// module id = 32\n// module chunks = 1"],"sourceRoot":""}