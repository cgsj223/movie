webpackJsonp([2],[,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted:function(){var t=this;this.$http.get("/get_login_state").then(function(e){e.body.user&&(t.user=e.body.user,t.$emit("isLogin",t.user))}).catch(function(t){console.log("failed to connect")})},data:function(){return{msg:"",login:!1,user:0}},methods:{action_data:function(){this.msg&&alert(this.msg)},submitLogin:function(t){t.preventDefault(),this.$http.post(t.target.action,{username:this.$refs.username.value,password:this.$refs.password.value}).then(function(t){switch(t.body.code){case 3e3:window.location.reload();break;case 3001:alert("用户名或密码错误，请重试");break;case 3002:alert("用户名或密码格式不正确，请重试");break;case 3003:alert("服务忙，请重试")}})}}}},function(t,e){},function(t,e){},function(t,e,s){t.exports=s.p+"static/img/logo.2965242.png"},function(t,e,s){function a(t){s(5)}var r=s(0)(s(3),s(10),a,null,null);t.exports=r.exports},function(t,e,s){function a(t){s(6)}var r=s(0)(s(4),s(11),a,null,null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer_inner"},[s("table",{staticClass:"footer_tb"},[s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("中国互联网举报中心")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xICP备xxxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("节目制作经营许可证x字第xxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xICP证xxxxx号")])])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("网络文化经营单位")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("xx互联网举报中心")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("网络110报警服务")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("x网文xxxxxxx号")])])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"#"}},[t._v("x公安备xxxxxxxx号")])]),t._v(" "),s("td",[s("a",{attrs:{href:"#"}},[t._v("12318文化市场举报热线")])])])]),t._v(" "),s("div",{staticClass:"footer_bottom"},[s("h1",[t._v("xx电影网")]),t._v(" "),s("p",[t._v("本站不提供任何视听上传服务，所有内容均来自视频分享站点所提供的公开引用资源。Copyright © 200x-2017 保留所有权利")])])])])}]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-wrapper"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.user,expression:"user==0"}],staticClass:"login_reg"},[s("span",{on:{mouseover:function(e){t.login=!0},mouseout:function(e){t.login=!1}}},[s("a",[t._v("登录")]),t._v(" "),s("transition",{attrs:{name:"login_fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.login,expression:"login"}],staticClass:"login_wrapper"},[s("form",{staticClass:"login",attrs:{method:"post",action:"/login"},on:{submit:t.submitLogin}},[s("input",{ref:"username",attrs:{type:"text",name:"username",placeholder:"请输入用户名"}}),s("br"),t._v(" "),s("input",{ref:"password",attrs:{type:"password",name:"password",placeholder:"请输入密码"}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("登录")])])])])],1),t._v("|\n    "),s("a",{attrs:{href:"./register"}},[t._v("注册")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.user,expression:"user!=0"}],staticClass:"userLogin"},[s("span",[t._v("欢迎您！用户："+t._s(t.user.username))]),t._v(" "),s("span",[s("a",{attrs:{href:"/logout"},on:{click:function(e){t.user=0}}},[t._v(" 退出")])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo-wrapper"},[a("img",{attrs:{src:s(7),alt:"",width:"50px",height:"50px"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("a",{attrs:{href:"/"}},[t._v("xx电影网")])])}]}},function(t,e){},,,function(t,e,s){function a(t){s(26)}var r=s(0)(s(20),s(33),a,null,null);t.exports=r.exports},,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(9),r=s.n(a),o=s(8),n=s.n(o);e.default={name:"register",data:function(){return{showInfo:!1,testFlag:!1,correctItem:[],text:"",postData:{}}},methods:{inputFocus:function(t){""==t.target.value&&(this.showInfo=t.target.name,this.testFlag=!1),t.target.className+="active"},action:function(t){var e=this;t.target.className="",this.showInfo=!1;var s=t.target.value;switch(t.target.name){case"username":/^[a-zA-Z0-9_\u4e00-\u9fa5]{4,16}$/.test(s)?this.$http.post("/check_username",{user:s}).then(function(t){1e3===t.body.code?(e.testFlag=1,e.correctItem[0]=1,e.postData.username=s):alert("用户名已存在")}).catch(function(t){console.log(t)}):(this.testFlag="usernameError",this.correctItem[0]=0);break;case"password":/^[a-zA-Z0-9]{6,20}$/.test(s)?(this.testFlag=2,this.correctItem[1]=1,this.postData.password=s):(this.testFlag="passwordError",this.correctItem[1]=0);break;case"phone":/^1[0-9]{10}$/.test(s)?(this.testFlag=3,this.correctItem[2]=1,this.postData.phone=s):(this.testFlag="phoneError",this.correctItem[2]=0);break;case"email":/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+){1,3}$/.test(s)?(this.testFlag=4,this.correctItem[3]=1,this.postData.email=s):(this.testFlag="emailError",this.correctItem[3]=0)}},submitData:function(){var t=this,e=0;if(this.correctItem.forEach(function(t,s){e+=t}),4===e){var s=this;s.$http.post("/register",s.postData).then(function(e){2e3==e.body.code?(alert("注册成功"),t.submitData=null,window.location.pathname="/"):alert("注册失败")})}}},components:{myHeader:r.a,myFooter:n.a}}},,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),r=s(15),o=s.n(r),n=s(1);a.a.use(n.a);new a.a({render:function(t){return t(o.a)}}).$mount("#register")},,,function(t,e){},,,,,,,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("myHeader"),t._v(" "),s("div",{staticClass:"content_wrapper"},[s("div",{staticClass:"form"},[s("div",{staticClass:"reg_item"},[s("span",[t._v("用户名")]),t._v(" "),s("input",{attrs:{type:"text",name:"username",placeholder:"请输入用户名"},on:{focus:t.inputFocus,blur:t.action}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"username"==t.showInfo,expression:"showInfo=='username'"}]},[t._v("用户名由4-16位字母、数字、下划线或者汉字组合")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:1==t.testFlag,expression:"testFlag==1"}],staticStyle:{color:"green"}},[t._v("用户名可用")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"usernameError"==t.testFlag,expression:"testFlag=='usernameError'"}],staticStyle:{color:"red"}},[t._v("用户名格式不正确")])]),t._v(" "),s("div",{staticClass:"reg_item"},[s("span",[t._v("密码")]),t._v(" "),s("input",{attrs:{type:"password",name:"password",placeholder:"请输入密码"},on:{focus:t.inputFocus,blur:t.action}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"password"==t.showInfo,expression:"showInfo=='password'"}]},[t._v("密码由6-16位字母、数字组合")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:2==t.testFlag,expression:"testFlag==2"}],staticStyle:{color:"green"}},[t._v("密码可用")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"passwordError"==t.testFlag,expression:"testFlag=='passwordError'"}],staticStyle:{color:"red"}},[t._v("密码格式不正确")])]),t._v(" "),s("div",{staticClass:"reg_item"},[s("span",[t._v("手机")]),t._v(" "),s("input",{attrs:{type:"text",name:"phone",placeholder:"请输入手机号"},on:{focus:t.inputFocus,blur:t.action}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:3==t.testFlag,expression:"testFlag==3"}],staticStyle:{color:"green"}},[t._v("手机号码可用")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"phoneError"==t.testFlag,expression:"testFlag=='phoneError'"}],staticStyle:{color:"red"}},[t._v("手机号码格式不正确")])]),t._v(" "),s("div",{staticClass:"reg_item"},[s("span",[t._v("邮箱")]),t._v(" "),s("input",{attrs:{type:"text",name:"email",placeholder:"请输入邮箱"},on:{focus:t.inputFocus,blur:t.action}}),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:4==t.testFlag,expression:"testFlag==4"}],staticStyle:{color:"green"}},[t._v("邮箱可用")]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:"emailError"==t.testFlag,expression:"testFlag=='emailError'"}],staticStyle:{color:"red"}},[t._v("邮箱格式不正确")])]),t._v(" "),s("button",{staticClass:"submit",attrs:{type:"button",name:"submit"},on:{click:function(e){e.stopPropagation(),t.submitData(e)}}},[t._v("注册")])])]),t._v(" "),s("myFooter")],1)},staticRenderFns:[]}}],[23]);